(function(){function e(e){var t,n;function r(e){return e&&e.length?[e.length,t(0,e)]:[0,null]}return e=e(),t=e.allocateBytes,n=e.freeBytes,{ready:e.then,encrypt:function(i,a,o,c,f){var l,u,p,y,h;if(u=(l=r(i))[0],i=l[1],p=(l=r(a))[0],a=l[1],y=(l=r(o))[0],o=l[1],c=t(0,c),u+f===0)throw new Error("Can't encrypt empty plaintext without ciphertext expansion");return h=t(u+f),e._aez_encrypt(h,i,u,a,p,o,y,c,c.length,f),h=h.get(),n(),h},decrypt:function(i,a,o,c,f){var l,u,p,y,h;if(u=(l=r(i))[0],i=l[1],p=(l=r(a))[0],a=l[1],y=(l=r(o))[0],o=l[1],c=t(0,c),h=u-f>0?t(u-f):null,0!==e._aez_decrypt(h,i,u,a,p,o,y,c,c.length,f))throw n(),new Error("Decryption failed");return h?(h=h.get(),n(),h):(n(),new Uint8Array(0))}}}"function"==typeof define&&define.amd?define(["./aez"],e):"object"==typeof exports?module.exports=e(require("./aez")):this.aez_wasm=e(this.__aez_wasm)}).call(this);