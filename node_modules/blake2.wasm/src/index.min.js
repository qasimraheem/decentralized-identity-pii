(function(){function t(n){var i;function s(t,e){return null==t&&(t=64),null==e&&(e=null),this instanceof s?(this._output_length=t,this._state=i(240),e&&e.length?(e=i(0,e),n._blake2b_init_key(this._state,t,e,e.length),e.free()):n._blake2b_init(this._state,t)):new s(t,e)}function l(t,e){return null==t&&(t=32),null==e&&(e=null),this instanceof l?(this._output_length=t,this._state=i(176),e&&e.length?(e=i(0,e),n._blake2s_init_key(this._state,t,e,e.length),e.free()):n._blake2s_init(this._state,t)):new l(t,e)}return n=n(),i=n.allocateBytes,n.freeBytes,s.prototype={update:function(t){return t=i(0,t),n._blake2b_update(this._state,t,t.length),t.free(),this},final:function(){var t,e;return t=i(this._output_length),n._blake2b_final(this._state,t,t.length),e=t.get(),t.free(),this._state.free(),e}},Object.defineProperty(s.prototype,"constructor",{value:s}),l.prototype={update:function(t){return t=i(0,t),n._blake2s_update(this._state,t,t.length),t.free(),this},final:function(){var t,e;return t=i(this._output_length),n._blake2s_final(this._state,t,t.length),e=t.get(),t.free(),this._state.free(),e}},Object.defineProperty(l.prototype,"constructor",{value:l}),{ready:n.then,Blake2b:s,Blake2s:l}}"function"==typeof define&&define.amd?define(["./blake2"],t):"object"==typeof exports?module.exports=t(require("./blake2")):this.blake2_wasm=t(this.__blake2_wasm)}).call(this);